<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="add_portal_view" inherit_id="portal.portal_my_home">
        <xpath expr="//div[hasclass('o_portal_category')]/t[2]" position="after">
            <t t-call="portal.portal_docs_entry">
                <t t-set="icon" t-value="'/student/static/description/portal.png'" />
                <t t-set="title">
                    Library
                </t>
                <t t-set="text">
                    See Your Library Transaction
                </t>
                <t t-set="url" t-value="'/my/student'" />
                <t t-set="config_card" t-value="True" />
            </t>
        </xpath>
    </template>
    <template id="student.StudentProfile" name="Library Transitions">
		<t t-call="website.layout">
			<div class="container p-4 coupon  mx-auto">
				<div class="d-flex justify-content-between p-2 mt-4">
					<div class="col-4 mb-2">
						<a href="/my/home" class="text-decoration-none">
							<i class="fa fa-home" aria-hidden="true" />
						</a>
						<span>
							/
						</span>
						<span class="text-muted">
							Library / Transitions
						</span>
					</div>
					<div class="col-lg-4 p-2  mb-2  border-primary border-top-0 border  border-start-0 border-end-0">
						<t t-foreach="profile" t-as="p">
						    <table class="px-4">
								<tr>
									<td class="fw-bold">Student Name :</td>
									<td><t t-out="p['name']"/></td>
									<td width="50px"/>
									<td class="text-break fw-bold">Student Id : </td>
									<td><t t-out="p['student_id']"/></td>
								</tr>
							</table>

						</t>
					</div>
				</div>
			
				<!-- <div>
					<table class="table table-bordered table-sm mb-1 text-center bg-dark">
						<thead style="font-size:12px;" class="text-light">
							<th class="col-2">Activity Number</th>
							<th class="col-1">Action Type</th>
							<th class="col-2">From</th>
							<th class="col-2">To</th>
							<th class="col-2">Amount</th>
							<th class="col-2">Date</th>
							<th class="col-1"></th>
						</thead>
					</table>
					<t t-foreach="data" t-as="d">
						<div class="accordion mb-1" t-attf-id="accordion">
							<div class=" p-0 border-0">
							  <h2 class="mb-0" t-attf-id="heading{{d['no']}}">
								<button class="accordion-button btn-sm  px-1 py-0" type="button" data-bs-toggle="collapse" t-attf-data-bs-target="#collapse{{d['no']}}" aria-expanded="true" t-attf-aria-controls="collapse{{d['no']}}">
									<table class="table table-sm mb-0 mt-0">
										<tbody class="p-0  border-bottom-0 border-end-0 border-top-0 border-left-0">
											<tr class="copon_transition text-center border-bottom-0 border-end-0 border-top-0 border-left-0 p-0" style="font-size:12px;">
												<td class="col-2"><span t-out="d['no']" /></td>
												<td class="col-1">
													<span class="badge rounded-pill bg-success p-1 px-2">
														<span t-out="d['action']"/>
													</span>
												</td>
												<td class="col-2">
													<span class="badge  bg-info p-1 px-2">
														<span t-out="d['subject']"/>
													</span>
												</td>
												<td class="col-2">
													<span class="badge bg-primary p-2">
														<span t-out="d['object']"/>
													</span>
												</td>
												<td class="col-2">
													<span t-out="d['amt']"/>
												</td>
												<td class="col-2"><span t-out="d['date'].strftime('%d-%m-%Y')"/></td>
												<td class="col-1"></td>

											</tr>
										</tbody>
									</table>
								</button>
							  </h2>
							  <div t-attf-id="collapse{{d['no']}}" class="accordion-collapse collapse border" t-attf-aria-labelledby="heading{{d['no']}}" t-attf-data-bs-parent="#accordion{{d['no']}}">
								<div class="accordion-body">
								    <div class="d-flex">
										<div class="d-flex col-lg-4 ">
											<div class="label d-block col-lg-5 fw-bold">
												<label>Activity Number</label><br/>
												<label>From</label><br/>
												<label>To</label><br/>
												<label>Model</label><br/>
												<label>Model Name</label><br/>
											</div>
											<div class="data fs-sm fw-light">
												<label><span t-out="d['no']"/></label><br/>
												<label><span t-out="d['subject']"/></label><br/>
												<label><span t-out="d['object']"/></label><br/>
												<label><span t-out="d['model']"/></label><br/>
												<label><span t-out="d['model']"/></label><br/>
											</div>	
										</div>
										<div class="d-flex col-lg-4 ">
											<div class="label d-block col-lg-5 fw-bold">
												<label>Action Type</label><br/>
												<label>Reference</label><br/>
												<label>Amount</label><br/>
												<label>Activity Date</label><br/>
											</div>
											<div class="data fs-sm fw-light">
												<label><span t-out="d['action']"/></label><br/>
												<label><span t-out="d['ref']"/></label><br/>
												<label><span t-out="d['amount']"/></label><br/>
												<label><span t-out="d['date'].strftime('%d-%m-%Y')"/></label><br/>
											</div>	
										</div>
									</div>
									<table class="table table-bordered table-sm mt-1" t-if="d['act_lines']">
										<thead class="colg-6" >
											<th class="col-lg-1">No</th>
											<th class="col-lg-3">Product</th>
											<th class="col-lg-3">Quaintity</th>
										</thead>
										<tbody>
											<t t-if="d['act_lines']">
												<t t-foreach="d['act_lines']" t-as="act">
													<tr>
														<td t-if="act"><t t-out="act_index + 1"/></td>
														<td t-if="act"><t t-out="act.product_id.name"/></td>
														<td t-if="act"><t t-out="act.quantity"/></td>
													</tr>
												</t>
											</t> 
										</tbody>
									</table>
								</div>
							  </div>
							</div>
						</div>
					</t>
					<div class=" form-inline mt-3">
						<div class="col-lg-4  ms-5 col-md-12 mx-md-auto mx-auto">
							<t t-call="website.pager">
								<t t-set="_classes">mt-2 mx-5 ml-md-2</t>
							</t>
						</div>
					</div>
				</div> -->
			</div>
		</t>
	</template>
    
</odoo>